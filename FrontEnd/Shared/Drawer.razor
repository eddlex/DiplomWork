@* @using Microsoft.Extensions.Localization;
@inject IStringLocalizer<Drawer> Localizer
@inject NavigationManager Navigation
@using System.Globalization
 *@

<MudAppBar Elevation="5">
    <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start" OnClick="@((e) => DrawerToggle())" />
    <MudText Typo="Typo.h5" Class="ml-3">Admin panel</MudText>
    <MudSpacer />
    <MudIconButton Icon="@Icons.Material.Filled.Language" Color="Color.Inherit" Edge="Edge.End" OnClick="@((e) => ChangeLanguage())" />
    @* <MudButton Variant="Variant.Text" @onclick="SetArm" Color="Color.Secondary">Arm</MudButton>
    <MudButton Variant="Variant.Text" @onclick="SetEng" Color="Color.Secondary">Eng</MudButton> *@
<MudIconButton Icon="@Icons.Material.Filled.Logout" Color="Color.Inherit" Edge="Edge.End" OnClick="@((e) => Logout())" />
    </MudAppBar>

<MudDrawer @bind-Open="_drawerOpen" ClipMode="DrawerClipMode.Always" Elevation="2" Color="Color.Inherit">
    <MudNavMenu Rounded="true" Margin="Margin.Dense" Color="Color.Primary" Class="pa-2" Bordered="true">
@*         <MudNavLink Href="/Users" Match="NavLinkMatch.All">@Localizer["Users"]</MudNavLink>
        <MudNavLink Href="/SMTPConfigs" Match="NavLinkMatch.Prefix">@Localizer["SMTP"]</MudNavLink>
        <MudNavLink Href="/Departments" Match="NavLinkMatch.Prefix">@Localizer["Departments"]</MudNavLink> *@
        <MudNavLink Href="/Users" Match="NavLinkMatch.All">Users</MudNavLink>
        <MudNavLink Href="/SMTPConfigs" Match="NavLinkMatch.Prefix">SMTP configuration</MudNavLink>
        <MudNavLink Href="/Departments" Match="NavLinkMatch.Prefix">Departments</MudNavLink>
        <MudNavLink Href="/RecipientGroup" Match="NavLinkMatch.Prefix">Recipient groups</MudNavLink>
        <MudNavLink Href="/Recipients" Match="NavLinkMatch.Prefix">Recipients</MudNavLink>        
        <MudNavLink Href="/Forms" Match="NavLinkMatch.Prefix">Forms</MudNavLink>

        @* <MudNavGroup Title="Surveys" Expanded="false">
        <MudNavLink Href="/allsurveys" Match="NavLinkMatch.Prefix">All</MudNavLink>
        <MudNavLink Href="/students" Match="NavLinkMatch.Prefix">Among students</MudNavLink>
        <MudNavLink Href="/companies" Match="NavLinkMatch.Prefix">Among companies</MudNavLink>
        <MudNavLink Href="/lecturers" Match="NavLinkMatch.Prefix">Among lecturers</MudNavLink>
        </MudNavGroup> *@
        <MudNavLink Href="/subjects" Match="NavLinkMatch.Prefix">Subjects</MudNavLink>
        <MudNavLink Href="/Schedule" Match="NavLinkMatch.Prefix">Create schedule</MudNavLink>
        <MudNavLink Href="/AdminPage" Match="NavLinkMatch.Prefix">Grades</MudNavLink>


        

        @* <MudNavGroup Title="Settings" Expanded="false">
            <!-- <MudNavLink Href="/users"  Match="NavLinkMatch.Prefix">Users</MudNavLink> -->
            <MudNavLink Href="/security" Match="NavLinkMatch.Prefix">Security</MudNavLink>
        </MudNavGroup>
        <MudNavLink Href="/about" Match="NavLinkMatch.Prefix">About</MudNavLink> *@
    </MudNavMenu>
</MudDrawer>

@code {
    bool _drawerOpen = true;

    void DrawerToggle()
    {
        _drawerOpen = !_drawerOpen;
    }

    private void Logout()
    {
        // NavigationManager.NavigateTo("/logout");
    }
    private void ChangeLanguage()
    {

    }

    // private void SetArm()
    // {
    //     Thread.CurrentThread.CurrentUICulture = new CultureInfo("arm");
    //     Navigation.NavigateTo(Navigation.Uri, forceLoad: true);        
    // }

    // private void SetEng()
    // {
    //     Thread.CurrentThread.CurrentUICulture = new CultureInfo("eng");
    //     Navigation.NavigateTo(Navigation.Uri, forceLoad: true);
    // }
}